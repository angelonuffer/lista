mapear = { lista função } =>
  | lista[.] == 0 = []
  | lista[.] == 1 = [
    função(lista[0])
  ]
  | [
    função(lista[0])
    ...mapear({
      lista: lista[1:]
      função: função
    })
  ]

mapear