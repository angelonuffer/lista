reduzir = { lista função } =>
  | lista[.] == 1 = lista[0]
  | lista[.] == 2 = função([
    lista[0]
    lista[1]
  ])
  | reduzir({
    lista: [
      função([
        lista[0]
        lista[1]
      ])
      ...lista[2:]
    ]
    função: função
  })

reduzir